# ğŸ¤– Kz.tutorial AI Coding Assistant (V1.0)

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/React-19-61DAFB)
![Supabase](https://img.shields.io/badge/Supabase-Database-3ECF8E)
![Groq](https://img.shields.io/badge/AI-Llama%203.3-orange)
![Tailwind](https://img.shields.io/badge/Tailwind-CSS-38B2AC)

Aplikasi Web **AI Coding Assistant** profesional yang dibangun dengan arsitektur modern (React 19 + Supabase). Dirancang khusus untuk developer dengan fitur analisis gambar (Vision), pencarian web real-time, sistem ekonomi kredit, dan dashboard admin tersembunyi.

---

## ğŸŒŸ Fitur Utama

### ğŸ§‘â€ğŸ’» Fitur Pengguna
- **Multi-Model Intelligence**:
  - **Llama 3.1 8B**: Chat super cepat untuk pertanyaan ringan (Biaya: 1 Kredit).
  - **Llama 3.3 70B**: Logika tingkat tinggi untuk coding kompleks (Biaya: 2 Kredit).
  - **Mata Dewa (Vision)**: Analisis screenshot error menggunakan **Llama 4 Scout 17B**.
- **Web Search Real-time**: Terintegrasi dengan Serper API untuk mencari dokumentasi terbaru.
- **Sistem Gamifikasi**:
  - **Daily Check-in**: Absen harian untuk mendapatkan bonus kredit gratis (Streak 7 hari).
  - **Referral System**: Undang teman dan dapatkan +10 kredit (Dilengkapi proteksi Fingerprint).
- **UI/UX Premium**:
  - **Terminal Mode**: Tampilan ala Hacker/CLI untuk pecinta minimalisme.
  - **Markdown & Syntax Highlighting**: Blok kode rapi dengan fitur sekali klik salin.
  - **Inbox Notifikasi**: Pemberitahuan real-time dari sistem atau admin.

### ğŸ›¡ï¸ Fitur Admin (Tersembunyi)
- **Akses Rahasia**: Ketik `modeadmin` di kolom chat untuk membuka login PIN (Default: `2719`).
- **Manajemen API Key**: Tambah/Hapus key Groq & Serper secara dinamis tanpa deploy ulang.
- **Approval Pembayaran**: Sistem verifikasi bukti transfer (QRIS/PayPal) secara manual.
- **Broadcast System**: Kirim pengumuman atau bonus kredit ke seluruh user sekaligus.
- **Live Monitoring**: Pantau kesehatan API key (latency/error) dan log sistem.

---

## ğŸ› ï¸ Persiapan & Instalasi

### 1. Prasyarat
- Akun **Supabase** (Gratis).
- API Key dari **Groq Cloud**.
- (Opsional) API Key dari **Serper.dev** untuk fitur Search.

### 2. Konfigurasi Client
Buka file `services/supabaseClient.ts` dan masukkan kredensial project Anda:
```typescript
const SUPABASE_URL = 'https://YOUR_PROJECT_ID.supabase.co';
const SUPABASE_ANON_KEY = 'YOUR_ANON_KEY';
```

---

## ğŸ—„ï¸ Konfigurasi Database (Wajib)

Salin dan jalankan script SQL berikut di **Supabase SQL Editor** untuk membangun struktur tabel dan logika fungsi (RPC):

### Langkah 1: Tabel Utama & Auth Trigger
```sql
-- Profiles: Data Kredit & Referral
create table public.profiles (
  id uuid references auth.users not null primary key,
  email text,
  full_name text,
  credits int default 15,
  referral_code text unique,
  created_at timestamptz default now()
);

-- Otomatis buat profil saat registrasi
create or replace function public.handle_new_user() 
returns trigger as $$
begin
  insert into public.profiles (id, email, full_name, referral_code)
  values (new.id, new.email, new.raw_user_meta_data->>'full_name', upper(substring(md5(random()::text) from 1 for 8)));
  return new;
end;
$$ language plpgsql security definer;

create trigger on_auth_user_created after insert on auth.users for each row execute procedure public.handle_new_user();

-- Tabel Pendukung lainnya
create table public.system_settings (id int primary key generated by default as identity, groq_api_keys text[], serper_api_key text);
insert into public.system_settings (groq_api_keys, serper_api_key) values (ARRAY[''], '');

create table public.topup_requests (id uuid default gen_random_uuid() primary key, user_id uuid references public.profiles(id), amount int, price int, status text default 'pending', proof_url text, currency text, created_at timestamptz default now());
create table public.notifications (id uuid default gen_random_uuid() primary key, user_id uuid references public.profiles(id), title text, message text, type text, is_read boolean default false, created_at timestamptz default now());
create table public.user_streaks (user_id uuid references public.profiles(id) primary key, current_streak int default 0, last_claim_at timestamptz);
create table public.referrals (id uuid default gen_random_uuid() primary key, referrer_id uuid references public.profiles(id), referee_id uuid references public.profiles(id), device_id text, created_at timestamptz default now());
```

### Langkah 2: Fungsi Bisnis (RPC)
```sql
-- Fungsi Absen Harian
create or replace function claim_daily_bonus() returns json as $$
declare v_user_id uuid := auth.uid(); v_streak int; v_last_claim timestamptz; v_bonus int := 1;
begin
  select current_streak, last_claim_at into v_streak, v_last_claim from public.user_streaks where user_id = v_user_id;
  if not found then insert into public.user_streaks (user_id, current_streak, last_claim_at) values (v_user_id, 1, now()); update public.profiles set credits = credits + 1 where id = v_user_id; return json_build_object('success', true, 'message', 'Bonus harian diklaim! +1 Kredit', 'streak', 1); end if;
  if v_last_claim::date = now()::date then return json_build_object('success', false, 'message', 'Sudah absen hari ini.'); end if;
  v_streak := case when v_last_claim::date = (now() - interval '1 day')::date then v_streak + 1 else 1 end;
  if v_streak % 7 = 0 then v_bonus := 5; end if;
  update public.user_streaks set current_streak = v_streak, last_claim_at = now() where user_id = v_user_id;
  update public.profiles set credits = credits + v_bonus where id = v_user_id;
  return json_build_object('success', true, 'message', 'Absen Berhasil! +' || v_bonus || ' Kredit', 'streak', v_streak);
end;
$$ language plpgsql security definer;

-- Fungsi Klaim Referral
create or replace function claim_referral(code_input text, device_id_input text) returns json as $$
declare v_user_id uuid := auth.uid(); v_referrer_id uuid;
begin
  select id into v_referrer_id from public.profiles where referral_code = code_input;
  if v_referrer_id = v_user_id or v_referrer_id is null then return json_build_object('success', false, 'message', 'Kode tidak valid.'); end if;
  if exists (select 1 from public.referrals where referee_id = v_user_id) then return json_build_object('success', false, 'message', 'Sudah pernah klaim.'); end if;
  insert into public.referrals (referrer_id, referee_id, device_id) values (v_referrer_id, v_user_id, device_id_input);
  update public.profiles set credits = credits + 10 where id in (v_user_id, v_referrer_id);
  return json_build_object('success', true, 'message', 'Klaim berhasil! +10 Kredit.');
end;
$$ language plpgsql security definer;
```

---

## ğŸ“¦ Konfigurasi Storage Supabase
Buat bucket berikut di dashboard Supabase:
1. `payment_proofs`: (Public) Tempat menyimpan bukti transfer user.
2. `QRIS_PAYMENT`: (Public) Simpan gambar QRIS Anda dengan nama `qris.png`.

---

## ğŸ”‘ Akses Dashboard Admin
Dashboard admin disembunyikan untuk alasan keamanan.
1. Login ke aplikasi.
2. Ketik **`modeadmin`** di kolom chat.
3. Masukkan PIN: **`2719`**.
4. Di sini Anda wajib memasukkan **API Key Groq** agar AI bisa mulai menjawab.

---

## ğŸ“œ Lisensi
Project ini berada di bawah lisensi **MIT**. Anda bebas menggunakannya untuk keperluan edukasi maupun komersial dengan tetap mencantumkan atribusi ke **Kz.tutorial**.

**Dibuat dengan â¤ï¸ oleh Kz.tutorial**